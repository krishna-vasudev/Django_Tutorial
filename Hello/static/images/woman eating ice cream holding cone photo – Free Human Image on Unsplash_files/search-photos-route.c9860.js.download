(window.webpackJsonp=window.webpackJsonp||[]).push([["search-photos-route"],{"7P6o":function(e,t,a){e.exports={headingXs:"_2uOAz _2956j _2jIq8 _1eXFm",colorWhite:"#fff",colorGrey400:"#d1d1d1",colorGrey700:"#767676",container:"_1koGJ",heading:"YLnkn _2uOAz _2956j _2jIq8 _1eXFm",body:"_1EXen",label:"pnpfj",ctaContainer:"_3PFBy"}},RhwO:function(e,t,a){e.exports={resetText:"_1eXFm",resetBtn:"_3d86A",truncate:"_1ByhS",colorWhite:"#fff",collectionsContainer:"_2f5Ws",heading:"_1YBF3",collectionTitle:"_2IA8r _1eXFm _1ByhS",details:"_1y1Td _1ByhS"}},SYQ3:function(e,t,a){e.exports={resetList:"_2Y-QM _1eXFm",truncate:"_1ByhS",heading:"rQtMp",keywordsList:"_296-Q _2Y-QM _1eXFm",keywordLinkIcon:"_1aT8y",keywordLink:"_2Ehsu",keyword:"SI5Tm _1ByhS"}},c5fr:function(e,t,a){e.exports={transitionSpeedBase:"0.1s",overlay:"_16--t",overlayContainer:"_11nq8",bgImg:"_2GF4Q"}},cve8:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var c=a("TSYQ"),o=a.n(c),r=a("SDew"),n=a("q1tI"),s=a.n(n),l=a("PCiO"),i=a("jRy8"),m=a("XdZB"),u=a("SqvM"),d=a("c5fr"),b=a.n(d);const O=({coverPhotoOption:e,className:t,children:a})=>{const c=Object(r.k)(e,i.B(e=>Object(l.d)({baseUrl:e.urls.raw,width:480,height:80})),i.B(e=>s.a.createElement(m.a,Object.assign({className:b.a.bgImg},e))),i.t(()=>s.a.createElement("div",{style:{height:80}})));return s.a.createElement(u.a,{behind:c,overlayClassName:o()(b.a.overlay,t),containerClassName:b.a.overlayContainer},a)}},pJjI:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ke}));var c,o=a("SDew"),r=a("cXg/"),n=a("B/Be"),s=a("15Rw"),l=a("q1tI"),i=a.n(l),m=a("/MKj"),u=a("b2r9"),d=a("acyj"),b=a("pq3u"),O=a("063O"),j=a("OM6L"),k=a("jRy8");!function(e){e.Editorial="editorial",e.KeywordSearch="keyword-search"}(c||(c={}));var h=a("mrSG"),y=a("I7gL"),p=a("55Ip"),w=a("aMqU"),g=a("C8EU"),E=a("acC3"),f=a("u+uw"),C=a("Ja2L"),_=a("RLZi"),I=a("Wdkd"),q=a("cve8"),S=a("TSYQ"),v=a.n(S),P=(a("PCiO"),a("jNAd"),a("RC4B"),a("zCdt"),a("7P6o")),B=a.n(P);const T=({children:e,className:t})=>i.a.createElement("div",{className:v()(B.a.container,t)},e),D=({children:e,className:t})=>i.a.createElement("h2",{className:v()(B.a.heading,t)},e);var L=a("RhwO"),N=a.n(L);const F=({collectionId:e,onClick:t})=>{const a=i.a.useMemo(()=>Object(f.g)(),[]),c=i.a.useCallback(()=>{t(e)},[t,e]),o=Object(g.a)(t=>Object(f.a)(t,e)),r=Object(g.a)(e=>Object(C.a)(e,o.userId)),n=Object(g.a)(e=>a(e,o.id));return i.a.createElement(p.a,{to:I.b.collectionFromEntity(o),onClick:c},i.a.createElement(q.a,{key:o.id,coverPhotoOption:n},i.a.createElement("h3",{className:N.a.collectionTitle},o.title),i.a.createElement("span",{className:N.a.details},Object(w.d)(o.total_photos)," ",Object(w.h)(o.total_photos)," Â· Curated by ",r.name)))},X=({collectionIds:e,tracking:t})=>{const a=Object(O.a)(),c=i.a.useCallback(c=>{a(u.a.TrackGridPromptClick(Object.assign(Object.assign({},t),{items:e,clickedItem:c})))},[t,e,a]);return i.a.createElement(T,null,i.a.createElement(D,{className:N.a.heading},"Related collections"),i.a.createElement("div",{className:N.a.collectionsContainer},Object(o.k)(e,j.y(e=>i.a.createElement(F,{key:e,collectionId:e,onClick:c})))))},x=e=>{var{maximumCollections:t,routeData:a}=e,c=Object(h.d)(e,["maximumCollections","routeData"]);const r=Object(E.b)(a),n=i.a.useMemo(_.c,[]),s=Object(g.a)(e=>n(e,r)),l=i.a.useMemo(()=>Object(o.k)(s,k.e(Object(o.e)(j.L(t),y.e))),[s,t]);return Object(o.k)(l,k.D(e=>i.a.createElement(X,Object.assign({collectionIds:e},c))))};var Q=a("FUCK"),R=a("+11Q"),K=a("zPuE"),M=a("SYQ3"),G=a.n(M);const Y=({to:e,onClick:t,keyword:a})=>{const c=i.a.useCallback(()=>{t(a)},[a,t]);return i.a.createElement(p.a,{to:e,onClick:c,className:v()(G.a.keywordLink,Object(K.b)({type:K.a.Outline}))},i.a.createElement(Q.a,{className:G.a.keywordLinkIcon}),i.a.createElement("span",{className:G.a.keyword},a))},A=({keywords:e,tracking:t,makeSearchLink:a})=>{const c=Object(O.a)(),o=i.a.useCallback(a=>{c(u.a.TrackGridPromptClick(Object.assign(Object.assign({},t),{items:e,clickedItem:a})))},[c,e,t]);return i.a.createElement(T,null,i.a.createElement(D,{className:G.a.heading},"Related searches"),i.a.createElement("ul",{className:G.a.keywordsList},e.map(e=>i.a.createElement("li",{key:e},i.a.createElement(Y,{to:a(e),onClick:o,keyword:e})))))},J=e=>{var{maximumKeywords:t,routeData:a}=e,c=Object(h.d)(e,["maximumKeywords","routeData"]);const{query:r,filters:n}=a,s=i.a.useMemo(R.a,[]),l=Object(g.a)(e=>s(e,r)),m=i.a.useCallback(e=>I.b.searchPhotos({query:e,filters:n}),[n]);return Object(o.k)(l,k.e(Object(o.e)(j.L(t),j.y(e=>e.title),y.e)),k.D(e=>i.a.createElement(A,Object.assign({keywords:e,makeSearchLink:m},c))))};var U=a("pdjq");const z=({totalPhotos:e,routeData:t})=>a=>Object(o.k)([(()=>{const r=Object(o.k)(e,k.r(e=>e>=10),k.e(()=>Object(o.k)(a,Object(U.a)({List:k.E,TwoColumns:k.I({column:1,row:10}),ThreeColumns:k.I({column:2,row:5})}))));return Object(o.k)(r,k.B(e=>({position:e,key:"related-collections",element:i.a.createElement(x,{routeData:t,maximumCollections:3,tracking:{promptId:"related-collections",placement:c.KeywordSearch,layout:a,position:e}})})))})(),(()=>{const r=Object(o.k)(e,k.r(e=>e>=10),k.e(()=>Object(o.k)(a,Object(U.a)({List:k.E,TwoColumns:k.I({column:0,row:20}),ThreeColumns:k.I({column:0,row:10})}))));return Object(o.k)(r,k.B(e=>({position:e,key:"related-search-keywords",element:i.a.createElement(J,{routeData:t,maximumKeywords:8,tracking:{promptId:"related-search-keywords",placement:c.KeywordSearch,layout:a,position:e}})})))})()],j.d);var W=a("cHeK"),Z=a("uFXZ"),H=a("QH2T"),V=a("3q9+"),$=a("JzW6"),ee=a("kyXS"),te=a("D6yk"),ae=a("mjVK"),ce=a("Nebv"),oe=a("x5qg"),re=a("r9If"),ne=a("JOe8"),se=a("lS9m"),le=a("DDF0"),ie=a("0K2+"),me=a("V+UN"),ue=a("G/bK");const de=e=>{const t=Object(o.k)(e,te.O(e=>e[0]),te.x()),a=Object(o.k)(e,te.O(e=>e[1]),te.x(ce.d)),c=Object(o.k)(e,te.O(e=>e[2]),te.x()),r=te.n([t,a]);return Object(o.k)(r,te.S(()=>Object(o.k)(c,te.o,te.D())))},be=({photos:e,inFeedAffiliatesRequestOption:t,routeData:a})=>{const{filters:c,query:n}=a,s=i.a.useCallback(e=>Object(o.k)(ne.a.Union.Search(Object.assign(Object.assign({},e),{keywords:n,safety:!1,color:c.color,orderBy:c.orderBy,orientation:c.orientation})),k.I),[c.color,c.orderBy,c.orientation,n]),m=Object(l.useMemo)(()=>Object(o.k)([k.I(z({totalPhotos:e.length,routeData:a})),Object(o.k)(t,k.B(Object(o.e)(e=>(({request:e,searchQuery:t})=>a=>({position:Object(o.k)(a,Object(U.b)({List:{column:0,row:2},TwoColumns:{column:1,row:1},ThreeColumns:{column:2,row:1}})),key:"in-feed-affiliates",element:i.a.createElement(le.a,{request:e,searchQuery:t})}))({request:e,searchQuery:a.query}),ee.d(r.u))))],j.d,ee.e,ee.d(r.j)),[t,e.length,a]);return i.a.createElement(me.a,{photos:e,makePlacement:s,getFixedPlacementsForLayout:m})},Oe=({filters:e,query:t,searchXps:a},c)=>({page:r,perPage:n})=>Object(o.k)(W.a.search.getPhotos(Object.assign(Object.assign({},ce.h(e)),{query:t,searchXps:a,page:r,perPage:n})),Z.a(d.a),$.j(([e])=>e),te.ob(V.p(e=>{c(u.a.TrackGotSearchResults({startPosition:Object(ie.e)({page:r,perPage:n}),photos:e.results.map(e=>e.id)}))}))),je=Object(b.d)()(()=>{const e=Object(oe.d)();return(t,{routeData:a})=>{const c=Object(E.c)(a.query,a.filters);return{searchXps:Object(re.b)(t),photoFeedOption:e(t,c)}}});var ke=Object(o.k)(({routeData:e,searchXps:t,photoFeedOption:a})=>{const c=Object(O.a)(),{query:r,filters:l}=e,m=Object(E.c)(r,l),d=Object(n.a)(de,[e.query,l,a]);return Object(s.a)(d,e=>{Object(o.k)([u.a.TrackGotInitialSearchResults(),u.a.TrackGotSearchResults({startPosition:1,photos:e.ids})],Object(b.a)(c))}),i.a.createElement("div",Object.assign({},Object(ae.a)(H.y)),i.a.createElement(se.a,null,i.a.createElement(ue.a,{feedId:m,fetchPhotos:Oe({query:r,searchXps:t,filters:l},c)},({items:t,total:a})=>i.a.createElement(le.b,{photos:t,feedTotal:a,searchQuery:e.query,children:a=>i.a.createElement(be,{photos:t,inFeedAffiliatesRequestOption:a,routeData:e})}))))},Object(m.c)(je))}}]);
//# sourceMappingURL=search-photos-route.c9860.js.map